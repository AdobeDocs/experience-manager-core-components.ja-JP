---
title: メールエクスペリエンスフラグメントコンポーネント
description: 電子メールエクスペリエンスフラグメントコンポーネントを使用すると、コンテンツ作成者は、ローカライズされたコンテンツ構造をサポートしながら、エクスペリエンスフラグメントのバリエーションをコンテンツに配置できます。
role: Architect, Developer, Admin, User
exl-id: 861c1fd1-6d6d-426c-a338-a558326fe16e
source-git-commit: 33976c0e745ad091a142109f70541f01a31edc5b
workflow-type: tm+mt
source-wordcount: '927'
ht-degree: 26%

---


# メールエクスペリエンスフラグメントコンポーネント {#email-experience-fragment-component}

電子メールエクスペリエンスフラグメントコンポーネントを使用すると、コンテンツ作成者は、ローカライズされたコンテンツ構造をサポートしながら、エクスペリエンスフラグメントのバリエーションをコンテンツに配置できます。

## 使用方法 {#usage}

電子メールエクスペリエンスフラグメントコンポーネントを使用すれば、コンテンツ作成者は、既存のエクスペリエンスフラグメントバリエーションから選択して、コンテンツ内に配置できます。 エクスペリエンスフラグメントは、コンテンツとレイアウトの両方を含み、チャネルをまたいで再利用可能なコンテンツのグループです。

* このコンポーネントのプロパティは、[設定ダイアログ](#configure-dialog)で定義できます。
* コンポーネントをコンテンツに追加する際のデフォルト設定は、 [デザインダイアログ](#design-dialog).

電子メールエクスペリエンスフラグメントコンポーネントは、ローカライズされたサイト構造をサポートしています。

## バージョンと互換性 {#version-and-compatibility}

このドキュメントでは、電子メールエクスペリエンスフラグメントコンポーネントの現在のバージョン（2022 年 10 月に電子メールコアコンポーネントのリリース X で導入された v1）について説明します。

コンポーネントのすべてのサポート対象バージョン、コンポーネントの各バージョンと互換性のある AEM バージョン、以前のバージョンのドキュメントへのリンクを次の表に示します。

| コンポーネントのバージョン | AEM 6.5 | AEM as a Cloud Service |
|---|---|---|
| v1 | 互換性あり | 互換性あり |

電子メールコアコンポーネントのバージョンとリリースについて詳しくは、ドキュメントを参照してください。 [コアコンポーネントのバージョンを電子メールで送信します。](/help/email/versions.md)

## ローカライズされたサイト構造のサポート {#localized-site-structure}

電子メールエクスペリエンスフラグメントコンポーネントは、ローカライズされたコンテンツ構造に適応し、コンテンツのローカライゼーションに基づいて適切なエクスペリエンスフラグメントをレンダリングします。 これをおこなうには、エクスペリエンスフラグメントが次の条件を満たしている必要があります。

* メールエクスペリエンスフラグメントコンポーネントが [ページテンプレート。](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/sites/authoring/features/templates.html)
* このテンプレートが、`/content/<site>` 配下のローカライズされた構造の一部となる新しいコンテンツページの作成に使用される。
* コンテンツページで参照されるエクスペリエンスフラグメントは、以下のローカライズされたエクスペリエンスフラグメント構造の一部です `/content/experience-fragments` 以下のサイトと同じパターンに従う `/content/<site>` 同じコンポーネント名を使用する場合も含みます。

この場合、同じローカライゼーション ([言語、ブループリント、ライブコピー](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/sites/administering/reusing-content/msm-and-translation.html)) は、現在のページがテンプレートの一部としてレンダリングされる際に使用されます。

この動作は、テンプレートに追加された電子メールエクスペリエンスフラグメントコンポーネントに限られます。 個々のコンテンツページに追加されたエクスペリエンスフラグメントコンポーネントは、コンポーネント内で設定されたとおりのエクスペリエンスフラグメントレンディションをレンダリングします。

* エクスペリエンスフラグメントコンポーネントのローカライゼーション機能の仕組みの例については、 [以下の節](#example).
* コアコンポーネントのローカライゼーション機能の連携の例については、[コアコンポーネントのローカライゼーション機能ページ](/help/get-started/localization.md)を参照してください。

### 例 {#example}

コンテンツが次のような構造になっているとします。

```
/content
+-- experience-fragments
   \-- wknd
      +-- language-masters
      +-- us
         +-- en
            +-- footerTextXf
            \-- headerTextXf
         \-- es
            +-- footerTextXf
            \-- headerTextXf
      \-- ch
         +-- de
            +-- footerTextXf
            \-- headerTextXf
         +-- fr
            +-- footerTextXf
            \-- headerTextXf
         \-- it
            +-- footerTextXf
            \-- headerTextXf
+-- wknd
   +-- language-masters
   +-- us
      +-- en
      \-- es
   +-- ch
      +-- de
      +-- fr
      \-- it
+-- wknd-events
\-- wknd-shop
```

`/content/experience-fragments/wknd` 配下の構造が `/content/wknd` の構造を反映していることに注意してください。

この場合、メールエクスペリエンスフラグメントコンポーネントの場合 `/content/experience-fragments/wknd/us/en/footerTextXf` をテンプレートに配置すると、そのテンプレートに基づいて作成されたローカライズされたページでは、ローカライズされたコンテンツページに対応するローカライズされたエクスペリエンスフラグメントが自動的にレンダリングされます。

したがって、同じテンプレートを使用する `/content/wknd/ch/de` 下のコンテンツページに移動すると、`/content/experience-fragments/wknd/us/en/footerTextXf` ではなく `/content/experience-fragments/wknd/ch/de/footerTextXf` がレンダリングされます。

### フォールバック {#fallback}

電子メールエクスペリエンスフラグメントコンポーネントは、対応するローカライズされたコンポーネントを次の順序で検索します。

1. まず、言語ルートを探します。
1. 言語ルートが見つからない場合は、ブループリントを探します。
1. ブループリントが見つからない場合は、ライブコピーを探します。
1. 見つからない場合は、コンポーネントで設定されたエクスペリエンスフラグメントがデフォルトで表示されます。

## コンポーネント出力のサンプル {#sample-component-output}

電子メールエクスペリエンスフラグメントコンポーネントを実際に体験し、その設定オプションやHTMLおよび JSON 出力の例を確認するには、 [コンポーネントライブラリ。](https://adobe.com/go/aem_cmp_library_email_xf)

## 技術的詳細 {#technical-details}

エクスペリエンスフラグメントコンポーネントに関する最新の技術ドキュメント [は GitHub にあります。](https://adobe.com/go/aem_cmp_email_tech_xf_v1)

コアコンポーネントの開発について詳しくは、 [コアコンポーネント開発者向けドキュメントです。](/help/developing/overview.md)

## 設定ダイアログ {#configure-dialog}

設定ダイアログでは、コンテンツでレンダリングするエクスペリエンスフラグメントバリエーションをコンテンツ作成者が選択できます。

![メールエクスペリエンスフラグメントコンポーネントの編集ダイアログ](/help/email/assets/email-experience-fragment-edit.png)

以下を使用： **選択ダイアログを開く** ボタンをクリックしてコンポーネントセレクターを開き、コンテンツページに追加するエクスペリエンスフラグメントコンポーネントバリエーションを選択します。

電子メールエクスペリエンスフラグメントコンポーネントをテンプレートに追加する場合、エクスペリエンスフラグメントがローカライズされている場合は、自動的にローカライズされるので、ページ上でのレンダリング内容は、明示的に選択したコンポーネントと異なります。 詳しくは、[上記の例](#example)を参照してください。

また、**ID** を定義することもできます。このオプションを使用すると、HTM 内のコンポーネントの一意の識別子を制御できます。

* 空白のままにした場合、一意の ID が自動的に生成され、結果のコンテンツを調べることで見つかります。
* ID を指定した場合、作者はその ID が一意であることを確認する必要があります。
* ID を変更すると、CSS に影響を与える可能性があります。

### 「スタイル」タブ {#styles-tab-edit}

電子メールエクスペリエンスフラグメントコンポーネントは、AEM [スタイルシステム。](/help/get-started/authoring.md#component-styling)

ドロップダウンを使用して、コンポーネントに適用するスタイルを選択します。編集ダイアログでの選択項目は、コンポーネントツールバーから選択した項目と同じ効果があります。

スタイルは、内のこのコンポーネントに対して設定する必要があります [デザインダイアログ](#design-dialog) 」をクリックします。

## デザインダイアログ {#design-dialog}

デザインダイアログでは、電子メールエクスペリエンスフラグメントコンポーネントの使用時にコンテンツ作成者に提供されるオプションと、電子メールエクスペリエンスフラグメントコンポーネントの配置時のデフォルト設定を定義できます。

### 「スタイル」タブ {#styles-tab}

電子メールエクスペリエンスフラグメントコンポーネントは、AEM [スタイルシステム。](/help/get-started/authoring.md#component-styling)
