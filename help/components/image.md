---
title: 画像コンポーネント
description: コアコンポーネントの画像コンポーネントは、インプレース編集機能を備えたアダプティブな画像コンポーネントです。
translation-type: tm+mt
source-git-commit: c20d02aa93cce60b583a2d22c77b08ca7eb9b765
workflow-type: tm+mt
source-wordcount: '2157'
ht-degree: 75%

---


# 画像コンポーネント{#image-component}

コアコンポーネントの画像コンポーネントは、インプレース編集機能を備えたアダプティブな画像コンポーネントです。

## 使用方法 {#usage}

画像コンポーネントは、アダプティブ画像選択およびレスポンシブ動作を備えており、ページ訪問者に対する遅延読み込みや、コンテンツ作成者に対する簡単な画像の配置や切り抜きを提供します。

[デザインダイアログ](#design-dialog)では、テンプレート作成者が、画像の幅や切り抜きの設定、追加の設定などを定義できます。コンテンツエディターは、[設定ダイアログ](#configure-dialog)でアセットをアップロードまたは選択し、[編集ダイアログ](#edit-dialog)で画像の切り抜きをおこなうことができます。画像を単純にインプレースで変更することもでき、非常に便利です。

## レスポンシブ機能 {#responsive-features}

画像コンポーネントには、すぐに使用可能な堅牢なレスポンシブ機能が用意されています。ページテンプレートレベルで、[デザインダイアログ](#design-dialog)を使用して、画像アセットのデフォルトの幅を定義できます。画像コンポーネントは、正確な幅を自動的に読み込み、ブラウザーウィンドウのサイズに合わせて表示します。ウィンドウのサイズが変更されると、画像コンポーネントは、その場で適切な画像サイズを動的に読み取ります。画像コンポーネントはコンテンツの読み取り用に最適化されているので、コンポーネント開発者はカスタムメディアのクエリ定義を気にかける必要がありません。

さらに、画像コンポーネントは、遅延読み込みをサポートし、ブラウザーで表示できるようになるまで、実際の画像アセットの読み込みを遅らせて、ページの応答性を高めます。

## ダイナミックメディアサポート{#dynamic-media}

画像コンポーネント（[リリース2.13.0](/help/versions.md)を含む）は、[ダイナミックメディア](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/assets/dynamicmedia/dynamic-media.html?lang=en#dynamicmedia)アセットをサポートします。 [こ](#design-dialog) れらの機能を有効にすると、ドラッグ&amp;ドロップ操作で、または他の画像と同様にアセットブラウザーを介して、ダイナミックメディア画像アセットを追加する機能がオファーされます。また、画像修飾子、画像プリセット、スマートトリミングもサポートされます。

コアコンポーネントを使用して構築されたWebエクスペリエンスは、豊富で堅牢な、高パフォーマンスでクロスプラットフォームのダイナミックメディアイメージ機能を特徴付けることができません。

## バージョンと互換性 {#version-and-compatibility}

このドキュメントでは、画像コンポーネントの現在のバージョン（2018 年 1 月にコアコンポーネントのリリース 2.0.0 で導入された v2）について説明します。

コンポーネントのすべてのサポート対象バージョン、コンポーネントの各バージョンと互換性のある AEM バージョン、以前のバージョンのドキュメントへのリンクを次の表に示します。

| コンポーネントのバージョン | AEM 6.4 | AEM 6.5 | AEM as a Cloud Service |
|--- |--- |--- |---|
| v2 | 互換性あり | 互換性あり | 互換性あり |
| [v1](v1/image-v1.md) | 互換性あり | 互換性あり | - |

コアコンポーネントのバージョンとリリースについて詳しくは、[コアコンポーネントのバージョン](/help/versions.md)を参照してください。

## SVG のサポート {#svg-support}

画像コンポーネントでは Scalable Vector Graphics（SVG）がサポートされています。

* DAM からの SVG アセットのドラッグ＆ドロップと、ローカルファイルシステムからの SVG ファイルのアップロード、はどちらもサポートされます。
* アダプティブ画像サーブレットでは元の SVG ファイルがストリーミングされます（変換はスキップされます）。
* SVG 画像の場合、画像モデルで「スマート画像」と「スマートサイズ」が空の配列に設定されます。

### セキュリティ {#security}

セキュリティ上の理由から、元の SVG が画像エディターで直接呼び出されることは決してありません。`<img src=“path-to-component”>` 経由で呼び出されます。これにより、ブラウザーが SVG ファイルに埋め込まれた任意のスクリプトを実行するのを防ぎます。

>[!CAUTION]
>
>SVG のサポートには、AEM 内の新しい[画像エディター機能](https://docs.adobe.com/content/help/ja-JP/experience-manager-cloud-service/implementing/components-templates/image-editor.html)をサポートするために、コアコンポーネントのリリース 2.1.0 以上と、AEM 6.4 の [Service Pack 2](https://docs.adobe.com/content/help/ja-JP/experience-manager-64/release-notes/sp-release-notes.html) 以降が必要です。

## コンポーネント出力のサンプル {#sample-component-output}

画像コンポーネントを体験したり、その設定オプションの例や、HTML 出力や JSON 出力の例を確認したりするには、[コンポーネントライブラリ](https://adobe.com/go/aem_cmp_library_image_jp)にアクセスしてください。

### 技術的詳細 {#technical-details}

画像コンポーネントに関する最新の技術ドキュメントについては、[GitHub](https://adobe.com/go/aem_cmp_tech_image_v2_jp) を参照してください。

コアコンポーネントの開発について詳しくは、[コアコンポーネント開発者向けドキュメント](/help/developing/overview.md)を参照してください。

画像コンポーネントは、[スキーマ.org microdata](https://schema.org)をサポートしています。

## 設定ダイアログ {#configure-dialog}

画像コンポーネントには、標準の[編集ダイアログ](#edit-dialog)と[デザインダイアログ](#design-dialog)のほかに、画像自体の定義やその説明および基本プロパティの定義をおこなうための設定ダイアログも用意されています。

### 「アセット」タブ {#asset-tab}

![画像コンポーネントの設定ダイアログの「アセット」タブ](/help/assets/image-configure-asset.png)

* **画像アセット**
   * [アセットブラウザー](https://docs.adobe.com/content/help/ja-JP/experience-manager-cloud-service/sites/authoring/fundamentals/environment-tools.html)からアセットをドロップするか、「**参照**」オプションをタップすると、ローカルファイルシステムからアップロードできます。
   * 現在選択されている画像を選択解除するには、「**クリア**」をタップまたはクリックします。
   * アセットエディターで&#x200B;**アセットのレンディションを管理**&#x200B;するには、「[編集](https://docs.adobe.com/content/help/ja-JP/experience-manager-cloud-service/assets/manage/manage-digital-assets.html)」をタップまたはクリックします。

### 「メタデータ」タブ {#metadata-tab}

![画像コンポーネントの設定ダイアログの「メタデータ」タブ](/help/assets/image-configure-metadata.png)

* **プリセットの種類**  — 使用可能な画像プリセットの種類( **画像プリセ** ッタ **スマート切り抜き**)を定義します。これは、ダイナミックメディア [](#dynamic-meida) 機能が有効な場合にのみ使用できます。
   * **画像プリセット** - 「 **画像プリセットの** プ **リセットの** 種類 **」を選択すると、「** 画像プリセット」のドロップダウンを使用でき、使用可能なダイナミックメディアプリセットから選択できます。これは、選択したアセットに対してプリセットが定義されている場合にのみ使用できます。
   * **スマート切り抜き**  — スマート切り抜きの **プ** リセットタイプが「 **スマート切り抜き」の選択時に、「レンディション**  **** 」のドロップダウンを使用して、選択したアセットの使用可能なレンディションから選択できます。これは、選択したアセットに対してレンディションが定義されている場合にのみ使用できます。
   * **画像修飾子**  — 追加のダイナミックメディア画像サービングコマンドは、どの `&`プリセット **タイプが選択されているかに関係なく、ここで** で区切って定義できます。
* **画像は装飾画像** - 画像が支援テクノロジーによって無視される場合（したがってその代替テキストが不要な場合）はオンにします。これは、装飾画像にのみ適用されます。
* **代替テキスト** - 視覚に障害のあるユーザー向けの、画像の意味や機能を示す代替テキスト。
   * **** DAM から代替テキストを取得 - オンにすると、DAM の `dc:description` メタデータの値が画像の代替テキストに設定されます。
* **キャプション**  — 画像に関する追加情報。初期設定では画像の下に表示されます。
   * **DAMからキャプションを取得**  — このチェックボックスをオンにすると、画像のキャプションテキストにDAMの `dc:title` メタデータの値が入力されます。
   * **キャプションをポップアップとして表示** - オンにした場合、キャプションは画像の下には表示されなくなり、画像の上にマウスポインターを置いたときに一部のブラウザーでポップアップとして表示されるようになります。
* **リンク**  — 画像を別のリソースにリンクします。
   * 別の AEM リソースにリンクする場合は、選択ダイアログを使用します。
   * AEM リソースにリンクしない場合は、絶対 URL を入力します。非絶対 URL は、AEM に対する相対 URL として解釈されます。
* **ID** - このオプションを使用すると、HTML 内および [データレイヤー](/help/developing/data-layer/overview.md)内のコンポーネントの一意の識別子を制御できます。
   * 空白のままにした場合、一意の ID が自動的に生成されます。生成された ID は結果のページを調べることで確認できます。
   * ID を指定した場合、作者はその ID が一意であることを確認する必要があります。
   * ID を変更すると、CSS、JS、およびデータレイヤーのトラッキングに影響を与える可能性があります。

>[!TIP]
>
>**スマート** クロッ **パンド画像** プリセットは、相互に排他的なオプションです。作成者がスマートクロップレンディションと共に画像プリセットを使用する必要がある場合、作成者は&#x200B;**画像修飾子**&#x200B;を使用して手動でプリセットを追加する必要があります。

## 編集ダイアログ{#edit-dialog}

編集ダイアログでは、コンテンツ作成者は画像の切り抜き、画像のローンチマップの変更および画像のズームをおこなえます。

>[!NOTE]
>
>切り抜き、回転およびズーム機能は、ダイナミックメディアアセットには適用されません。 [ダイナミックメディア機能](#dynamic-media)が有効な場合、ダイナミックメディアアセットに対するそのような編集は、[設定ダイアログを通じて行う必要があります。](#configure-dialog)

![画像コンポーネントの編集ダイアログ](/help/assets/image-edit.png)

* 切り抜きを開始

   ![「切り抜きを開始」アイコン](/help/assets/image-start-crop.png)

   このオプションを選択すると、定義済みの切り抜き比率のドロップダウンが開きます。

   * 独自の切り抜きを定義するには、オプション「**フリーハンド**」を選択します。
   * 元のアセットを表示するには、オプション「**切り抜きを削除**」を選択します。

   切り抜きオプションを選択したら、青色のハンドルを使用して画像上の切り抜きのサイズを調整します。

   ![切り抜きツールオプション](/help/assets/image-crop-options.png)

* 右に回転

   ![「右に回転」アイコン](/help/assets/image-rotate-right.png)

   画像を右（時計回り）に 90° 回転させるには、このオプションを使用します。

* 水平方向に反転

   ![「水平方向に反転」アイコン](/help/assets/image-flip-horizontal.png)

   画像を水平方向に反転させる（y 軸を中心に 180° 回転させる）には、このオプションを使用します。

* 垂直方向に反転

   ![「垂直方向に反転」アイコン](/help/assets/image-flip-vertical.png)

   画像を垂直方向に反転させる（x 軸を中心に 180° 回転させる）には、このオプションを使用します。

* ズームをリセット

   ![「ズームをリセット」アイコン](/help/assets/image-reset-zoom.png)

   画像が既にズームされている場合にこのオプションを使用すれば、ズームレベルがリセットされます。

* ズームスライダーを開く

   ![「ズームスライダーを開く」アイコン](/help/assets/image-zoom.png)

   画像のズームレベルを制御するためのスライダーを表示するには、このオプションを使用します。

   ![ズームスライダーコントロール](/help/assets/image-zoom-slider.png)

インプレースエディターを使用して画像を変更することもできます。スペース上の制限のため、インラインで使用できるのは基本的なオプションのみです。すべての編集オプションを使用したい場合は、フルスクリーンモードを使用してください。

![画像インプレース編集のオプション](/help/assets/image-in-place-edit.png)

>[!NOTE]
>
>画像編集操作（切り抜き、反転、回転）は GIF 画像ではサポートされません。編集モードで GIF に対しておこなわれたそのような変更は、一切保持されません。

## デザインダイアログ{#design-dialog}

デザインダイアログでは、コンテンツ作成者がこのコンポーネントの使用時に利用できる切り抜き、アップロード、回転の各オプションを、テンプレート作成者が定義することができます。

### 「メイン」タブ {#main-tab}

「**メイン**」タブでは、画像の幅（ピクセル単位）のリストを定義でき、コンポーネントは、ブラウザーサイズに基づいて最適な幅を自動的に読み込みます。これは、画像コンポーネントの[レスポンシブ機能](#responsive-features)の重要な役割です。

さらに、作成者がページにコンポーネントを追加した際に自動的に無効化される一般的なコンポーネントオプションを定義できます。

![画像コンポーネントのデザインダイアログのメインタブ](/help/assets/image-design-main.png)

* **DM機能を有効にする**  — このチェックボックスをオンにすると、 [ダイナミックメディアを有効に](#dynamic-media) する機能が使用できます。
* **遅延読み込みを有効にする**  — 画像コンポーネントをページに追加する際に、遅延読み込みオプションが自動的に有効になるかどうかを定義します。
* **画像が装飾的**  — 画像コンポーネントをページに追加する際に、装飾的な画像オプションを自動的に有効にするかどうかを定義します。
* **DAMから代替テキストを取得** — 画像コンポーネントをページに追加する際に、DAMから代替テキストを取得するオプションが自動的に有効かどうかを定義します。
* **DAMからキャプションを取得**  — 画像コンポーネントをページに追加する際に、DAMからキャプションを取得するオプションが自動的に有効かどうかを定義します。
* **「キャプションをポップアップとして表示** 」 — 画像コンポーネントをページに追加する際に、画像キャプションをポップアップとして表示するオプションを自動的に有効にするかどうかを定義します。
* **Disable UUID Tracking**  — 画像アセットのUUIDの追跡を無効にする場合に選択します。
* **幅**  — 画像の幅のリストをピクセル単位で定義し、ブラウザーのサイズに基づいて、コンポーネントが最適な幅を自動的に読み込みます。
   * 別のサイズを追加するには、「**追加**」ボタンをタップまたはクリックします。
      * サイズの順序を変更するには、グラブハンドルを使用します。
      * 幅を削除するには、**削除**&#x200B;アイコンを使用します。
   * デフォルトでは、画像の読み込みは、画像が表示される時点まで遅延されます。
      * ページ読み込み時に画像を読み込むには、オプション「**遅延読み込みを無効化**」を選択します。
* **JPEG画質**  — 変換された（例：拡大/縮小またはトリミングされた）JPEG画像の画質率（0 ～ 100のパーセンテージ）。

### 「機能」タブ {#features-tab}

「**機能**」タブでは、コンテンツ作成者がコンポーネントの使用時に利用できるオプション（アップロードオプション、向きのオプション、切り抜きオプションなど）を定義できます。

* ソース

   ![画像コンポーネントのデザインダイアログの「機能」タブ](/help/assets/image-design-features-source.png)

   コンテンツ作成者が自身のローカルコンピュータから画像をアップロードできるようにするには、オプション「**ファイルシステムからのアセットのアップロードを許可**」を選択します。コンテンツ作成者が AEM からしかアセットを選択できないようにするには、このオプションを選択解除します。

* 向き

   ![画像コンポーネントのデザインダイアログの「機能」タブ](/help/assets/image-design-features-orientation.png)

* **回転**
コンテンツ作成者が 
「**右に回転**」オプションを使用できるようにするには、このオプションを使用します。
* **反転**
コンテンツ作成者が 
「**水平方向に反転**」および「**垂直方向に反転**」オプションを使用できるようにするには、このオプションを使用します。

   >[!CAUTION]
   >
   >「**反転**」オプションはデフォルトでは無効になっています。これを有効にすると、画像コンポーネントの編集ダイアログで「**水平方向に反転**」および「**垂直方向に反転**」ボタンが表示されますが、この機能は現在 AEM でサポートされていないので、これらのオプションを使用しておこなわれた変更は一切保持されません。

* 切り抜き

   ![画像コンポーネントのデザインダイアログの「機能」タブ](/help/assets/image-design-features-cropping.png)

   コンテンツ作成者が編集ダイアログでコンポーネントの画像の切り抜きをおこなえるようにするには、オプション「**切り抜きを許可**」を選択します。
   * 定義済みの切り抜き縦横比を追加するには、「**追加**」をクリックします。
   * わかりやすい名前を入力します。この名前が「**切り抜きを開始**」ドロップダウンに表示されます。
   * 縦横比の数値を入力します。
   * 縦横比の順序を変更するには、ドラッグハンドルを使用します
   * 縦横比を削除するには、ごみ箱アイコンを使用します。

   >[!CAUTION]
   >
   >AEM では、切り抜きの縦横比は「**高さ / 幅**」で定義されます。これは従来の定義である「幅 / 高さ」とは異なり、レガシー互換性のための設定です。UI には比率自体ではなく UI が表示されるので、比率にわかりやすい名前を付けていれば、コンテンツ作成者がこの違いに気付くことはありません。

### 「スタイル」タブ {#styles-tab-1}

画像コンポーネントは、AEM [スタイルシステム](/help/get-started/authoring.md#component-styling)をサポートしています。

## アダプティブ画像サーブレット {#adaptive-image-servlet}

画像コンポーネントは、コアコンポーネントのアダプティブ画像サーブレットを使用します。[アダプティブ画像サーブレット](https://github.com/adobe/aem-core-wcm-components/wiki/The-Adaptive-Image-Servlet)は、画像処理とストリーミングを担当し、開発者は[コアコンポーネントのカスタマイズ](/help/developing/customizing.md)に活用できます。

>[!NOTE]
>
>`Last-Modified` ヘッダーを介した条件付き要求は、アダプティブ画像サーブレットでサポートされますが、`Last-Modified` ヘッダーのキャッシュを[ Dispatcher で有効にする必要があります](https://experienceleague.adobe.com/docs/experience-manager-dispatcher/using/configuring/dispatcher-configuration.html?lang=en#caching-http-response-headers)。
>
>[AEM プロジェクトアーキタイプ](/help/developing/archetype/overview.md)のサンプル Dispatcher 設定には、既にこの設定が含まれています。
